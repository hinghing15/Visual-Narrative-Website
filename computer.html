<!DOCTYPE html>
<html>

<head>
	<title>&lrm;</title> <link rel="icon" href="favicon.ico" />
	<link rel="stylesheet" type="text/css" href="resources/style.css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="resources/script.js"></script>
	<script type="text/javascript">
	
		var printSound = new Sound('sounds/Printer.mp3',1);
		var correctSound = new Sound('sounds/PasswordCorrect.mp3',1);
		var incorrectSound = new Sound('sounds/PasswordIncorrect.mp3',1);
		var cantPrintSound = new Sound('sounds/Interaction2.mp3',1);
	
		function checkPaper()
		{
			if(!sessionStorage.printed)
			{
				if(!sessionStorage.loadedPaper)
				{
					//Play error sound
					cantPrintSound.play();
				}
				else
				{
					//Play printing sound
					sessionStorage.printed = "1";
					printSound.play();
				}
				
			}
			else
			{
				cantPrintSound.play();
				//play error sound
			}
			
			
		}
		function checkPassword()
		{
			var correctPass = "Jenny";
			var pass = document.getElementById("hiddeninput").value;
			if(pass.localeCompare(correctPass) == 0)
			{
				console.log("Correct password!")
				correctSound.play();
				sessionStorage.enteredPassword = "1";
				hide_inline_view();
				remove_clicker("clicker_computer");
				
				show_inline_view("inlines/Monitor.png", function(){
					var printButton = $("<div style='top:85px'; left:'100px'; width:'60px'; height:'60px';><button type='button' id='printButton' onclick='checkPaper()'>Print</button></div>");
					$('#inline-clickers').append(printButton);
				});
				addPrintButton();
			}	
			else
			{
				console.log("Incorrect password!")
				incorrectSound.play();
			}
			
		}
		function addPrintButton()
		{
			console.log("Add print button");

			add_clicker(200,200,100,100,"clicker_computer_print", "clickers/puzzleroom_e/Computer.png", function(){

				show_inline_view("inlines/Monitor.png", function(){
					var printButton = $("<div style='top:85px'; left:'100px'; width:'60px'; height:'60px';><button type='button' id='printButton' onclick='checkPaper()'>Print</button></div>");
					$('#inline-clickers').append(printButton);
				});
			});
			

		}
	</script>
	<script>
	$(document).ready(function(){

		// change this to change the background image
		// the dimensions should be 720px X 405px.
		// ======================
			picture_set("rooms/sampleroom.png");
		// ======================

		// clickerinos kids
		// =====================================================

			// very simple example: you can't go through the door unless you
			// pick up the key on the table.
			
			
			if(!sessionStorage.enteredPassword)
				sessionStorage.enteredPassword = "0";
			
			console.log(sessionStorage.enteredPassword);
			if(sessionStorage.enteredPassword.localeCompare("0") == 0)
			{
				add_clicker(200,200,100,100,"clicker_computer", "clickers/puzzleroom_e/Computer.png", function(){

				
					currentOrder = [];
				
					show_inline_view("inlines/Monitor.png", function(){
						//container.appendChild(input);					
									
						add_inline_text_form(85,60,60,60,"password","textBox",function(){
							console.log("you clicked password");
							var textBox = document.getElementById('hiddeninput');
							//console.log(textBox.value);
						});
						var submitButton = $("<div style='top:85px'; left:'60px'; width:'60px'; height:'60px';><button type='button' id='submitButton' onclick='checkPassword()'>Submit</button></div>");

						//submitButton.setAttribute("onclick", checkPassword);
						//console.log(document.getElementById("submitButton"));
						//document.getElementById("submitButton").addEventListener("click",checkPassword);
						$('#inline-clickers').append(submitButton);
					});
				});
			}
			else
			{
				addPrintButton();
			}



		// =====================================================

		// set where clicking on the side links makes you go
			nav_left("");
			nav_right("shablammy.html");
			nav_up("");
			nav_down("");
		

		
	});
	</script>
	<script src="resources/postscript.js"></script>
</head>
<body>

<div class="inline-dismisser"></div>

<div id="wrapper">
	<div id="picture"></div>
	<div id="navclicks">
		<div class="navclick" id="click-up"></div>
		<div class="navclick" id="click-down"></div>
		<div class="navclick" id="click-left"></div>
		<div class="navclick" id="click-right"></div>
	</div>
	<div id="clickers">
		<!-- in here, there go all the custom clicky boxes for items and stuff -->
		<!-- this is handled with the javascript so DON'T PUT ANYTHING HERE. -->
		<!-- ================================================================= -->

		<!-- <div class="clicker" style="width:40px;height:40px;top:150px;left:400px;"></div> -->

		<!-- ================================================================= -->
	</div>
	<div class="inline-dismisser"></div>
	<div id="inline">
		<div id="inline-clickers">
			<!-- in here, go even more clickers for each inline view. -->
		</div>
	</div>
	<div id="inventory"></div>
	<div id="subtitle"></div>
</div>

</body>
</html>
